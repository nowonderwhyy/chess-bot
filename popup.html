<!doctype html>
<html>
    <head>
        <title>Chess.com Analysis</title>
        <link rel="stylesheet" href="./popup.css">
    </head>
    <body>
        <span>Start a game on Chess.com and the bot will run automatically. It takes 5-10 seconds to initialise.</span>
        <div class="current-state" style="margin: 8px 0; font-weight: 600;">
            Current: Level <span id="current-level">8</span> (<span id="current-level-elo">~2250 Elo</span>), Think <span id="current-mode">0.2s</span>, PVs <span id="current-multipv">1</span>
        </div>
        <div class="level-container">
            <div class="title">
                <span>Choose a level (default is 8):</span>
            </div>
            <div class="level-choice">
                <div style="text-align: center; margin: 6px 0;">
                    Level <span id="level-slider-value">8</span> (0–20) — <span id="level-elo">~2250 Elo</span>
                </div>
                <input type="range" min="0" max="20" step="1" id="level-slider" value="8" style="width: 100%;" />
            </div>
            <div class="level-button">
                <button id="set-level">Set</button>
            </div>
        </div>
        <div class="multiPVSettings" style="margin-top: 12px;">
            <div class="title">
                <span>MultiPV (number of candidate lines):</span>
            </div>
            <div class="othersettings-choice">
                <div class="othersettings-choice-item" style="display: flex; flex-direction: column; gap: 8px;">
                    <div style="text-align: center;">
                        <span>Top <span id="multipv-slider-value">1</span> line(s) (1–5)</span>
                    </div>
                    <input type="range" min="1" max="5" step="1" id="multipv-slider" value="1" style="width: 100%;" />
                    <button id="set-multipv">Set</button>
                    <label style="display: flex; align-items: center; gap: 8px;">
                        <input type="checkbox" id="minimal-overlay-checkbox" />
                        <span>Minimal mode (PV1 only)</span>
                    </label>
                </div>
            </div>
        </div>
        <div class="eloLimit" style="margin-top: 12px;">
            <div class="title">
                <span>Elo-limited strength</span>
            </div>
            <div class="othersettings-choice" style="display: flex; flex-direction: column; gap: 8px;">
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="checkbox" id="elo-enabled" />
                    <span>Limit strength by Elo</span>
                </label>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <span>Elo:</span>
                    <input type="number" id="elo-value" min="800" max="2800" step="50" value="1600" style="width: 100%;" />
                    <button id="set-elo">Apply</button>
                </div>
            </div>
        </div>
        <div class="engineMemory" style="margin-top: 12px;">
            <div class="title">
                <span>Engine memory (Hash)</span>
            </div>
            <div class="othersettings-choice" style="display: flex; flex-direction: column; gap: 8px;">
                <div style="display: flex; align-items: center; gap: 8px;">
                    <span>Hash:</span>
                    <input type="range" min="16" max="256" step="16" id="hash-slider" value="64" style="flex: 1;" />
                    <span><span id="hash-slider-value">64</span> MB</span>
                </div>
                <button id="set-hash">Apply</button>
            </div>
        </div>
        <div class="ponderSettings" style="margin-top: 12px;">
            <div class="title">
                <span>Ponder</span>
            </div>
            <div class="othersettings-choice" style="display: flex; flex-direction: column; gap: 8px;">
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="checkbox" id="ponder-enabled" />
                    <span>Think during opponent's turn</span>
                </label>
            </div>
        </div>
        <div class="depthSettings">
            <div class="title">
                <span>Engine think time per move:</span>
            </div>
            <div class="othersettings-choice">
                <div class="othersettings-choice-item" style="display: flex; flex-direction: column; gap: 8px;">
                    <div style="text-align: center;">
                        <span>Think: <span id="time-slider-value">0.2</span>s (0.2s–5.0s)</span>
                    </div>
                    <input type="range" min="200" max="5000" step="100" id="time-slider" value="200" style="width: 100%;" />
                    <button id="set-time">Set</button>
                </div>
            </div>
        </div>
        <div class="autoMoveSettings" style="margin-top: 12px;">
            <div class="title">
                <span>Auto-move (experimental; personal use only)</span>
            </div>
            <div class="othersettings-choice" style="display: flex; flex-direction: column; gap: 8px;">
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="checkbox" id="auto-move-checkbox" />
                    <span>Play best move automatically</span>
                </label>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <span>Confidence gate:</span>
                    <input type="range" min="0" max="20" step="1" id="auto-confidence-slider" value="0" style="flex: 1;" />
                    <span><span id="auto-confidence-value">0</span>%</span>
                </div>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <span>Base delay:</span>
                    <input type="range" min="0" max="1500" step="50" id="auto-delay-base-slider" value="150" style="flex: 1;" />
                    <span><span id="auto-delay-base-value">150</span>ms</span>
                </div>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <span>Random margin:</span>
                    <input type="range" min="0" max="20000" step="100" id="auto-delay-jitter-slider" value="600" style="flex: 1;" />
                    <span>±<span id="auto-delay-jitter-value">600</span>ms</span>
                </div>
            </div>
        </div>
    </body>
    <script src="lib/jquery-3.6.0.min.js"></script>
    <script src="popup.js"></script>
</html>